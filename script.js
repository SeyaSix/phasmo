var entite = [
  {
    id: "esprit",
    contenu: [
      {
        nom: "Esprit",
        preuves: ["EMF 5, Spirit box, Écriture fantomatique"],
        faiblesse: [
          "Un esprit peut être temporairement repoussé en brûlant un bâton d'encens, et ne pourra pas chasser avant 1 minute 30.",
          "Lesprit est la seule entité qui n'a pas de force.",
        ],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "spectre",
    contenu: [
      {
        nom: "Spectre",
        preuves: ["EMF 5, Spirit Box, Projecteur D.O.T.S"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "fantome",
    contenu: [
      {
        nom: "Fantôme",
        preuves: ["Spirit Box, Ultraviolet, Projecteur D.O.T.S"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "poltergeist",
    contenu: [
      {
        nom: "Poltergeist",
        preuves: ["Spirit Box, Ultraviolet, Écriture Fantomatique"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "banshee",
    contenu: [
      {
        nom: "Banshee",
        preuves: ["Ultraviolet, Orbes fantomatique, Projecteur D.O.T.S"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "djinn",
    contenu: [
      {
        nom: "Djinn",
        preuves: ["EMF 5, Ultraviolet, Températures Glaciales"],
        son: {
          pouvoir_a_3m_de_toi: "asset/audio/autres/2.5ms.mp3",
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "cauchemar",
    contenu: [
      {
        nom: "Cauchemar",
        preuves: ["Spirit Box, Orbes Fantomatique, Écriture Fantomatiques"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "revenant",
    contenu: [
      {
        nom: "Revenant",
        preuves: [
          "Orbes Fantomatique, Écriture fantomatique, Température glaciales",
        ],
        son: {
          chasse: "asset/audio/autres/1ms.mp3",
          poursuite_max: "asset/audio/autres/3ms.mp3",
        },
      },
    ],
  },
  {
    id: "ombre",
    contenu: [
      {
        nom: "Ombre",
        preuves: ["Écriture fantomatique, Températures glaciales, EMF 5"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "demon",
    contenu: [
      {
        nom: "Démon",
        preuves: [
          " Ultraviolet, Écriture Fantomatique, Températures Glaciales",
        ],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "yurei",
    contenu: [
      {
        nom: "Yurei",
        preuves: [
          "Orbes Fantomatique, Températures Glaciales, Projecteur D.O.T.S",
        ],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "oni",
    contenu: [
      {
        nom: "Oni",
        preuves: ["EMF 5, Températures Glaciales, Projecteur D.O.T.S"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "yokai",
    contenu: [
      {
        nom: "Yokai",
        preuves: ["Spirit Box, Orbes Fantomatique, Projecteur D.O.T.S"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "hantu",
    contenu: [
      {
        nom: "Hantu",
        preuves: ["Ultraviolet, Orbes Fantomatique, Températures Glaciales"],
        son: {
          chasseAuDessusDe3C: "asset/audio/autres/1.4ms.mp3",
          poursuiteEnDessousDe3C: "asset/audio/autres/2.7ms.mp3",
        },
      },
    ],
  },
  {
    id: "goryo",
    contenu: [
      {
        nom: "Goryo",
        preuves: ["Projecteur D.O.T.S, Ultraviolet, EMF 5"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "myling",
    contenu: [
      {
        nom: "Myling",
        preuves: ["Ultraviolet, EMF 5, Ecriture Fantomatique"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "onryo",
    contenu: [
      {
        nom: "Onryo",
        preuves: ["pirit box, Orbes Fantomatique, Températures Glaciales"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
        },
      },
    ],
  },
  {
    id: "jumeaux",
    contenu: [
      {
        nom: "Les Jumeaux",
        preuves: ["EMF 5, Spirit Box, Températures Glaciales"],
        son: {
          jumeaux_lent_chasse: "asset/audio/autres/1.5ms.mp3",
          jumeaux_lent_poursuite_max: "asset/audio/autres/2.28ms.mp3",
          jumeaux_rapide_chasse: "asset/audio/autres/1.9ms.mp3",
          jumeaux_rapide_poursuite_max: "asset/audio/autres/3.14ms.mp3",
        },
      },
    ],
  },
  {
    id: "raiju",
    contenu: [
      {
        nom: "Raiju",
        preuves: ["EMF 5, Orbes Fantomatique, Projecteur D.O.T.S"],
        son: {
          chasse_sans_electronique: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max_sans_electronique:
            "asset/audio/poursuite max 2.8ms.mp3",
          chasse_avec_electronique: "asset/audio/autres/2.5ms.mp3",
        },
      },
    ],
  },
  {
    id: "obake",
    contenu: [
      {
        nom: "Obake",
        preuves: ["EMF 5, Ultraviolet, Orbes Fantomatique"],
        son: {
          chasse: "asset/audio/chasse 1.7ms.mp3",
          poursuite_max: "asset/audio/poursuite max 2.8ms.mp3",
          pouvoir_des_pas_dissimule:
            "asset/audio/autres/1.7ms dissimulation.mp3",
        },
      },
    ],
  },
  {
    id: "mimic",
    contenu: [
      {
        nom: "Le Mimic",
        preuves: ["Spirit Box, Ultraviolet, Températures glaciales"],
      },
    ],
  },
  {
    id: "moroi",
    contenu: [
      {
        nom: "Moroï",
        preuves: ["Spirit Box, Écriture Fantomatique, Températures Glaciales"],
        son: {
          chasse_50_sante_mentale: "asset/audio/autres/1.5ms.mp3",
          chasse_0_sante_mentale: "asset/audio/autres/3.7ms.mp3",
        },
      },
    ],
  },
  {
    id: "deogen",
    contenu: [
      {
        nom: "Deogen",
        preuves: ["Spirit Box, Écriture Fantomatique, Projecteur D.O.T.S"],
        son: {
          Chasse_loin_de_toi: "asset/audio/autres/3ms.mp3",
          Poursuite_proche_de_toi: "asset/audio/autres/0.4ms.mp3",
        },
      },
    ],
  },
  {
    id: "thayé",
    contenu: [
      {
        nom: "Thayé",
        preuves: [
          "Orbes Fantomatique, Écriture Fantomatique, Projecteur D.O.T.S",
        ],
        son: {
          Chasse_jeune: "asset/audio/autres/2.75ms.mp3",
          Chasse_vieux: "asset/audio/autres/1ms.mp3",
        },
      },
    ],
  },
];

function toggleDetails(event) {
  var content = event.target.nextElementSibling;
  content.style.display = content.style.display === "none" ? "block" : "none";
}

function createEntityElement(entity) {
  var entityDiv = document.createElement("div");
  entityDiv.classList.add("entity");

  if (entity.contenu && entity.contenu.length > 0) {
    entity.contenu.forEach(function (details) {
      var entityName = document.createElement("h2");
      entityName.textContent = details.nom;
      entityName.addEventListener("click", toggleDetails);
      entityDiv.appendChild(entityName);

      var contentDiv = document.createElement("div");
      contentDiv.style.display = "none";

      if (details.preuves) {
        var evidenceList = document.createElement("ul");
        details.preuves.forEach(function (evidence) {
          var evidenceItem = document.createElement("li");
          evidenceItem.textContent = evidence;
          evidenceList.appendChild(evidenceItem);
        });
        contentDiv.appendChild(evidenceList);
      }

      if (details.son) {
        var audioContainer = document.createElement("div");
        audioContainer.classList.add("audio-container");

        if (details.son.chasse) {
          var audioElementChasse = document.createElement("audio");
          audioElementChasse.src = details.son.chasse;
          audioElementChasse.controls = true;

          var audioLabelChasse = document.createElement("p");
          audioLabelChasse.textContent = "Chasse";
          audioContainer.appendChild(audioLabelChasse);
          audioContainer.appendChild(audioElementChasse);
        }

        if (details.son.poursuite_max) {
          var audioElementPoursuiteMax = document.createElement("audio");
          audioElementPoursuiteMax.src = details.son.poursuite_max;
          audioElementPoursuiteMax.controls = true;

          var audioLabelPoursuiteMax = document.createElement("p");
          audioLabelPoursuiteMax.textContent = "Poursuite Max";
          audioContainer.appendChild(audioLabelPoursuiteMax);
          audioContainer.appendChild(audioElementPoursuiteMax);
        }

        if (details.son.pouvoir_a_3m_de_toi) {
          var audioElementPouvoir = document.createElement("audio");
          audioElementPouvoir.src = details.son.pouvoir_a_3m_de_toi;
          audioElementPouvoir.controls = true;

          var audioLabelPouvoir = document.createElement("p");
          audioLabelPouvoir.textContent = "Pouvoir à 3m de toi";
          audioContainer.appendChild(audioLabelPouvoir);
          audioContainer.appendChild(audioElementPouvoir);
        }

        if (details.son.Chasse_loin_de_toi) {
          var audioElementChasseLoin = document.createElement("audio");
          audioElementChasseLoin.src = details.son.Chasse_loin_de_toi;
          audioElementChasseLoin.controls = true;

          var audioLabelChasseLoin = document.createElement("p");
          audioLabelChasseLoin.textContent = "Chasse Loin de Toi";
          audioContainer.appendChild(audioLabelChasseLoin);
          audioContainer.appendChild(audioElementChasseLoin);
        }

        if (details.son.chasseAuDessusDe3C) {
          var audioElementChasseAuDessusDe3C = document.createElement("audio");
          audioElementChasseAuDessusDe3C.src = details.son.chasseAuDessusDe3C;
          audioElementChasseAuDessusDe3C.controls = true;
      
          var audioLabelChasseAuDessusDe3C = document.createElement("p");
          audioLabelChasseAuDessusDe3C.textContent = "Chasse au-dessus de 3°C";
          audioContainer.appendChild(audioLabelChasseAuDessusDe3C);
          audioContainer.appendChild(audioElementChasseAuDessusDe3C);
        }
      
        if (details.son.poursuiteEnDessousDe3C) {
          var audioElementPoursuiteEnDessousDe3C = document.createElement("audio");
          audioElementPoursuiteEnDessousDe3C.src = details.son.poursuiteEnDessousDe3C;
          audioElementPoursuiteEnDessousDe3C.controls = true;
      
          var audioLabelPoursuiteEnDessousDe3C = document.createElement("p");
          audioLabelPoursuiteEnDessousDe3C.textContent = "Poursuite en-dessous de 3°C";
          audioContainer.appendChild(audioLabelPoursuiteEnDessousDe3C);
          audioContainer.appendChild(audioElementPoursuiteEnDessousDe3C);
        }

        if (details.son.jumeaux_lent_chasse) {
          var audioElementJumeauxLentChasse = document.createElement("audio");
          audioElementJumeauxLentChasse.src = details.son.jumeaux_lent_chasse;
          audioElementJumeauxLentChasse.controls = true;
      
          var audioLabelJumeauxLentChasse = document.createElement("p");
          audioLabelJumeauxLentChasse.textContent = "Jumeaux Lent - Chasse";
          audioContainer.appendChild(audioLabelJumeauxLentChasse);
          audioContainer.appendChild(audioElementJumeauxLentChasse);
        }
      
        if (details.son.jumeaux_lent_poursuite_max) {
          var audioElementJumeauxLentPoursuiteMax = document.createElement("audio");
          audioElementJumeauxLentPoursuiteMax.src = details.son.jumeaux_lent_poursuite_max;
          audioElementJumeauxLentPoursuiteMax.controls = true;
      
          var audioLabelJumeauxLentPoursuiteMax = document.createElement("p");
          audioLabelJumeauxLentPoursuiteMax.textContent = "Jumeaux Lent - Poursuite Max";
          audioContainer.appendChild(audioLabelJumeauxLentPoursuiteMax);
          audioContainer.appendChild(audioElementJumeauxLentPoursuiteMax);
        }

        if (details.son.jumeaux_rapide_chasse) {
          var audioElementJumeauxRapideChasse = document.createElement("audio");
          audioElementJumeauxRapideChasse.src = details.son.jumeaux_rapide_chasse;
          audioElementJumeauxRapideChasse.controls = true;
      
          var audioLabelJumeauxRapideChasse = document.createElement("p");
          audioLabelJumeauxRapideChasse.textContent = "Jumeaux Rapide - Chasse";
          audioContainer.appendChild(audioLabelJumeauxRapideChasse);
          audioContainer.appendChild(audioElementJumeauxRapideChasse);
        }
      
        if (details.son.jumeaux_rapide_poursuite_max) {
          var audioElementJumeauxRapidePoursuiteMax = document.createElement("audio");
          audioElementJumeauxRapidePoursuiteMax.src = details.son.jumeaux_rapide_poursuite_max;
          audioElementJumeauxRapidePoursuiteMax.controls = true;
      
          var audioLabelJumeauxRapidePoursuiteMax = document.createElement("p");
          audioLabelJumeauxRapidePoursuiteMax.textContent = "Jumeaux Rapide - Poursuite Max";
          audioContainer.appendChild(audioLabelJumeauxRapidePoursuiteMax);
          audioContainer.appendChild(audioElementJumeauxRapidePoursuiteMax);
        }

        if (details.son.chasse_sans_electronique) {
          var audioElementChasseSansElectronique = document.createElement("audio");
          audioElementChasseSansElectronique.src = details.son.chasse_sans_electronique;
          audioElementChasseSansElectronique.controls = true;
      
          var audioLabelChasseSansElectronique = document.createElement("p");
          audioLabelChasseSansElectronique.textContent = "Chasse sans électronique";
          audioContainer.appendChild(audioLabelChasseSansElectronique);
          audioContainer.appendChild(audioElementChasseSansElectronique);
        }
      
        if (details.son.poursuite_max_sans_electronique) {
          var audioElementPoursuiteMaxSansElectronique = document.createElement("audio");
          audioElementPoursuiteMaxSansElectronique.src = details.son.poursuite_max_sans_electronique;
          audioElementPoursuiteMaxSansElectronique.controls = true;
      
          var audioLabelPoursuiteMaxSansElectronique = document.createElement("p");
          audioLabelPoursuiteMaxSansElectronique.textContent = "Poursuite Max sans électronique";
          audioContainer.appendChild(audioLabelPoursuiteMaxSansElectronique);
          audioContainer.appendChild(audioElementPoursuiteMaxSansElectronique);
        }
      
        if (details.son.chasse_avec_electronique) {
          var audioElementChasseAvecElectronique = document.createElement("audio");
          audioElementChasseAvecElectronique.src = details.son.chasse_avec_electronique;
          audioElementChasseAvecElectronique.controls = true;
      
          var audioLabelChasseAvecElectronique = document.createElement("p");
          audioLabelChasseAvecElectronique.textContent = "Chasse avec électronique";
          audioContainer.appendChild(audioLabelChasseAvecElectronique);
          audioContainer.appendChild(audioElementChasseAvecElectronique);
        }
      

        if (details.son.chasse_50_sante_mentale) {
          var audioElementChasse50SanteMentale = document.createElement("audio");
          audioElementChasse50SanteMentale.src = details.son.chasse_50_sante_mentale;
          audioElementChasse50SanteMentale.controls = true;
      
          var audioLabelChasse50SanteMentale = document.createElement("p");
          audioLabelChasse50SanteMentale.textContent = "Chasse - 50% Santé Mentale";
          audioContainer.appendChild(audioLabelChasse50SanteMentale);
          audioContainer.appendChild(audioElementChasse50SanteMentale);
        }
      
        if (details.son.chasse_0_sante_mentale) {
          var audioElementChasse0SanteMentale = document.createElement("audio");
          audioElementChasse0SanteMentale.src = details.son.chasse_0_sante_mentale;
          audioElementChasse0SanteMentale.controls = true;
      
          var audioLabelChasse0SanteMentale = document.createElement("p");
          audioLabelChasse0SanteMentale.textContent = "Chasse - 0% Santé Mentale";
          audioContainer.appendChild(audioLabelChasse0SanteMentale);
          audioContainer.appendChild(audioElementChasse0SanteMentale);
        }

        if (details.son.Poursuite_proche_de_toi) {
          var audioElementPoursuiteProche = document.createElement("audio");
          audioElementPoursuiteProche.src = details.son.Poursuite_proche_de_toi;
          audioElementPoursuiteProche.controls = true;

          var audioLabelPoursuiteProche = document.createElement("p");
          audioLabelPoursuiteProche.textContent = "Poursuite Proche de Toi";
          audioContainer.appendChild(audioLabelPoursuiteProche);
          audioContainer.appendChild(audioElementPoursuiteProche);
        }

        if (details.son.Chasse_jeune) {
          var audioElementChasseJeune = document.createElement("audio");
          audioElementChasseJeune.src = details.son.Chasse_jeune;
          audioElementChasseJeune.controls = true;
      
          var audioLabelChasseJeune = document.createElement("p");
          audioLabelChasseJeune.textContent = "Chasse Jeune";
          audioContainer.appendChild(audioLabelChasseJeune);
          audioContainer.appendChild(audioElementChasseJeune);
        }
      
        if (details.son.Chasse_vieux) {
          var audioElementChasseVieux = document.createElement("audio");
          audioElementChasseVieux.src = details.son.Chasse_vieux;
          audioElementChasseVieux.controls = true;
      
          var audioLabelChasseVieux = document.createElement("p");
          audioLabelChasseVieux.textContent = "Chasse Vieux";
          audioContainer.appendChild(audioLabelChasseVieux);
          audioContainer.appendChild(audioElementChasseVieux);
        }

        contentDiv.appendChild(audioContainer);
      }

      entityDiv.appendChild(contentDiv);
    });
  }

  document.querySelector(".entities-container").appendChild(entityDiv);
}

entite.forEach(createEntityElement);

var darkModeEnabled = false;

function toggleDarkMode() {
  var body = document.body;
  darkModeEnabled = !darkModeEnabled;

  if (darkModeEnabled) {
    body.classList.add("dark-mode");
  } else {
    body.classList.remove("dark-mode");
  }

  updateDarkModeButton();
}

function updateDarkModeButton() {
  var toggleButton = document.querySelector(".toggleButton");
  toggleButton.innerHTML = darkModeEnabled ? "Light Mode" : "Dark Mode";
}

// var playButtons = document.querySelectorAll(".lecture");
// var audioElements = document.querySelectorAll("audio");

// for (var i = 0; i < playButtons.length; i++) {
//   playButtons[i].addEventListener("click", function () {
//     var audioId = this.getAttribute("data-audio");
//     var audioElement = document.querySelector("." + audioId);

//     if (audioElement) {
//       audioElement.play().catch(function (error) {
//         console.error("Erreur de lecture :", error);
//       });
//     }
//   });
// }

// var entiteNoms = document.querySelectorAll(".entite-nom");

// entiteNoms.forEach(function (entiteNom) {
//   entiteNom.addEventListener("click", function () {
//     var article = this.parentElement;
//     toggleArticle(article.id);
//   });
// });

// function toggleArticle(articleId) {
//   var article = document.getElementById(articleId);
//   var entiteArticle = article.querySelector(".entite-article");

//   var closeButton = entiteArticle.querySelector(".close-button");
//   if (!closeButton) {
//     closeButton = document.createElement("button");
//     closeButton.className = "close-button";
//     closeButton.innerHTML = "&times;";
//     closeButton.onclick = function () {
//       toggleArticle(articleId);
//     };
//     entiteArticle.appendChild(closeButton);
//   }

//   entiteArticle.style.display =
//     entiteArticle.style.display === "none" || entiteArticle.style.display === ""
//       ? "block"
//       : "none";
// }

// function toggleRapid() {
//   var entitesARendreRapides = [
//     "Les-Jumeaux",
//     "Raiju",
//     "Moroi",
//     "Deogen",
//     "Thaye",
//   ];
//   entitesARendreRapides.forEach(function (entiteId) {
//     var entiteNom = document.querySelector("#" + entiteId + " .entite-nom h2");
//     if (entiteNom) {
//       if (entiteNom.style.color === "red") {
//         entiteNom.style.color = "";
//       } else {
//         entiteNom.style.color = "red";
//       }
//     }
//   });
// }

// function toggleLente() {
//   var entitesARendreLentes = ["Revenant", "Hantu"];
//   entitesARendreLentes.forEach(function (entiteId) {
//     var entiteNom = document.querySelector("#" + entiteId + " .entite-nom h2");
//     if (entiteNom) {
//       if (entiteNom.style.color === "green") {
//         entiteNom.style.color = "";
//       } else {
//         entiteNom.style.color = "green";
//       }
//     }
//   });
// }

// function toggleNormal() {
//   var entitesARendreNormal = [
//     "Esprit",
//     "Spectre",
//     "Fantome",
//     "Poltergeist",
//     "Banshee",
//     "Djin",
//     "Cauchemar",
//     "Ombre",
//     "Demon",
//     "Yurei",
//     "Oni",
//     "Yokai",
//     "Goryo",
//     "Myling",
//     "Onryo",
//     "Obake",
//   ];
//   entitesARendreNormal.forEach(function (entiteId) {
//     var entiteNom = document.querySelector("#" + entiteId + " .entite-nom h2");
//     if (entiteNom) {
//       if (entiteNom.style.color === "blue") {
//         entiteNom.style.color = "";
//       } else {
//         entiteNom.style.color = "blue";
//       }
//     }
//   });
// }
